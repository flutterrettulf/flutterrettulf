<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>How to use WillPopScope widget in Flutter with examples.</title>
  <meta name="title" content="How to use WillPopScope widget in Flutter with examples.">
  <meta name="twitter:card" content="summary-large-image" >
  <meta name="twitter:site" content="flutterrettulf" >
  <meta name="description" content="Learn how to use the WillPopScope widget in Flutter. We will see how to use the widget, through simple examples.">
  <meta name="author" content="Justin Thomas">
  
  <meta name="tags" content="WillPopScope Navigation">
  
  <meta property="og:title" content="How to use WillPopScope widget in Flutter with examples." >
  <meta property="twitter:title" content="How to use WillPopScope widget in Flutter with examples." >
  <meta property="og:description" content="Learn how to use the WillPopScope widget in Flutter. We will see how to use the widget, through simple examples." >
  <meta property="twitter:description" content="Learn how to use the WillPopScope widget in Flutter. We will see how to use the widget, through simple examples." >
  <meta property="og:url" content="https://flutterrettulf.com/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html" >
  <meta property="twitter:url" content="https://flutterrettulf.com/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html" >
  <meta name="robots" content="index, follow" >
  <link rel="canonical" href="https://flutterrettulf.com/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html" >
  
  <meta property="og:type" content="article" >
  <meta property="og:article:author" content="Justin Thomas" >
  <meta property="og:article:published_time" content="2022-09-03" >
  <meta property="og:article:modified_time" content="2022-09-06" >
  <meta property="og:article:section" content="Navigation" >
  <meta property="og:article:tag" content="WillPopScope and Navigation" >
  
  

  <link href="/assets/blog.css" rel="stylesheet">
  <link href="/assets/prism.css" rel="stylesheet">
  <script src="/assets/prism.js" ></script>
  <!--fav icons-->
  <link rel="apple-touch-icon" sizes="180x180" href="/fav/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/fav/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/fav/favicon-16x16.png">
  <link rel="manifest" href="/sitemanifest.json">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
      
  <!-- Custom styles for this template -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">     <!-- Custom styles for this template -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GKQ47FWX29"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-GKQ47FWX29');
  </script>

</head>
  <style>

body {
  min-height: 75rem;
  padding-top: 3.5rem;
}
  </style>
  <body>   
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
        <span class="navbar-toggler-icon"></span>
      </button>

      <a class="navbar-brand" href="/"><img src="/assets/brand/logo_2.svg" width="30"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="bi bi-three-dots-vertical"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          
          <!--active class add on correct page-->
          <li class="nav-item">
            <a class="nav-link text-decoration-none" aria-current="page" href="/category/navigation">Navigation</a>
          </li>
          
          <!--active class add on correct page-->
          <li class="nav-item">
            <a class="nav-link text-decoration-none" aria-current="page" href="/category/static-assets">Static Assets</a>
          </li>
          
          <!--active class add on correct page-->
          <li class="nav-item">
            <a class="nav-link text-decoration-none" aria-current="page" href="/category/flutter-buttons">Flutter Buttons</a>
          </li>
              
          
          <!--active class add on correct page-->
          <li class="nav-item">
            <a class="nav-link text-decoration-none" aria-current="page" href="/dart_tutorials">Dart tutorials</a>
          </li>
          
          <!--active class add on correct page-->
          <li class="nav-item">
            <a class="nav-link text-decoration-none" aria-current="page" href="/flutter_plugins">Flutter plugins</a>
          </li>
          
          <!--active class add on correct page-->
          <li class="nav-item">
            <a class="nav-link text-decoration-none" aria-current="page" href="/flutter_tutorials">Flutter tutorials</a>
          </li>
          
          <!--active class add on correct page-->
          <li class="nav-item">
            <a class="nav-link text-decoration-none" aria-current="page" href="/posts">Posts</a>
          </li>
             
        </ul>
        <!-- <a class="btn btn-outline-light me-2" href="/courses">Courses</a>  -->
        <!-- <a class="btn btn-primary"  href="/search">Search</a> -->
      </div>
    </div>
  </nav>
  <main class="container-fluid">  
    <div class="row"> 
      <div class="col-md-4 col-lg-2 bg-fl-grey  border-end p-0 d-md-block d-none">
        <aside>

        <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-fl-grey ">
    
    <a href="/category/navigation" class="d-flex align-items-center flex-shrink-0 p-3 link-dark text-decoration-none border-bottom">
      <span class="fs-5 fw-semibold">Navigation</span>
    </a>
    <div class=" list-group list-group-flush border-bottom scrollarea "> 
      
      
      
      
      
      
      <a href="/navigation/2022/09/03/how-to-disable-backbutton-in-flutter-using-willpopscope.html" class="list-group-item list-group-item-light  list-group-item-action  py-3 lh-tight " aria-current="true">
        <div class="d-flex w-100 align-items-center justify-content-between">
          <div class="mb-1"> How to disable the backbutton in Flutter using WillPopScope.</div>
        </div>
        <!-- <div class="col-10 mb-1 small"> <h2 id="introduction">Introduction</h2>
<p>WillPopScope class in Flutter is used to create a Widget that registers a callback to veto attempts by the user to dismiss the enclosing ModalRoute. This is useful when you want to prevent the user from accidentally exiting the app or navigating back to the previous screen.</p>
</div> -->
      </a>
      
      
      
      <a href="/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html" class="list-group-item list-group-item-light  list-group-item-action  py-3 lh-tight  active " aria-current="true">
        <div class="d-flex w-100 align-items-center justify-content-between">
          <div class="mb-1"> How to use WillPopScope widget in Flutter with examples.</div>
        </div>
        <!-- <div class="col-10 mb-1 small"> <p>In this article, we will discuss how to use the WillPopScope class in Flutter.</p>
</div> -->
      </a>
      
      
      
      <a href="/navigation/2022/09/03/press-back-button-again-to-exit-app-flutter-willpopscope-widget.html" class="list-group-item list-group-item-light  list-group-item-action  py-3 lh-tight " aria-current="true">
        <div class="d-flex w-100 align-items-center justify-content-between">
          <div class="mb-1"> How to use the WillPopScope widget in Flutter to show Press Back Button Again to Exit App?</div>
        </div>
        <!-- <div class="col-10 mb-1 small"> <h2 id="introduction">Introduction</h2>
</div> -->
      </a>
      
         
    </div>
    
  </div>


 
    </aside>

    </div>
    <div class="col-md-8 col-lg-8 p-4">
      <article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting"
      
      
      >
      
      <meta itemprop="datePublished" content="2022-09-03T05:30:00+05:30">
      
      <meta itemprop="inLanguage" content="en-US">
      
      <meta itemprop="url" content="https://flutterrettulf.com/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html">
      <meta itemprop="dateModified" content="2022-09-06T05:30:00+05:30">
      <meta itemprop="author" content="Justin Thomas">
      <meta itemprop="publisher" content="Justin Thomas">
      <meta itemprop="description" content="Learn how to use the WillPopScope widget in Flutter. We will see how to use the widget, through simple examples.">       

        <header class="mb-4"><h1>How to use WillPopScope widget in Flutter with examples.</h1>
        <small class="text-muted">Posted on September 3, 2022</small>
      </header>
      <div class="blog-post-body lh-lg">
        
        
      

 
       
            <ul id="toc" class="toc__list">
<li class="toc-entry toc-h2"><a href="#what-is-willpopscope">What is WillPopScope?</a></li>
<li class="toc-entry toc-h2"><a href="#where-do-we-use-the-willpopscope-widget">Where do we use the WillPopScope widget?</a></li>
<li class="toc-entry toc-h2"><a href="#how-to-use-the-willpopscope-widget">How to use the WillPopScope widget?</a></li>
<li class="toc-entry toc-h2"><a href="#example-3-using-willpopscope-to-perform-an-action-before-navigating-back-to-the-previous-screen">Example 3: Using WillPopScope to perform an action before navigating back to the previous screen.</a></li>
<li class="toc-entry toc-h2"><a href="#conclusion">Conclusion</a></li>
<li class="toc-entry toc-h2"><a href="#references">References</a></li>
</ul> 
 
      
          <p>In this article, we will discuss how to use the WillPopScope class in Flutter.</p>

<h2 id="what-is-willpopscope">What is WillPopScope?</h2>

<p>WillPopScope class in Flutter is used to create a Widget that registers a callback to veto attempts by the user to dismiss the enclosing ModalRoute. In other words, it can be used to override what happens when a user presses the back button on the device or pops the current route.</p>

<p><strong>The constructor of the class is as follows:</strong></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">WillPopScope</span><span class="p">({</span>
  <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">,</span>
  <span class="kd">required</span> <span class="n">WillPopCallback</span><span class="o">?</span> <span class="n">onWillPop</span><span class="p">,</span>
  <span class="kd">required</span> <span class="n">Widget</span> <span class="n">child</span><span class="p">,</span>
<span class="p">})</span>

<span class="n">WillPopCallback</span> <span class="o">=</span> <span class="n">Future</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="kt">Function</span><span class="p">()</span> <span class="c1">// Signature for a callback that verifies that it's OK to call Navigator.pop</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">child</code> argument is required. It is the child widget of the WillPopScope widget. <code class="language-plaintext highlighter-rouge">onWillPop</code> argument is optional. It is a callback function that returns a Future value. The callback function is called when the user tries to dismiss the enclosing route. The callback function returns a Future value. If the Future value is true, the enclosing route is popped. If the Future value is false, the enclosing route is not popped.</p>

<h2 id="where-do-we-use-the-willpopscope-widget">Where do we use the WillPopScope widget?</h2>
<p>The WillPopScope widget can be used to intercept the back button press event.</p>
<ol>
  <li>It can be used to prevent the user from navigating back to the previous screen based on some condition.</li>
  <li>It can also be used to perform some action before navigating back to the previous screen.</li>
</ol>

<h2 id="how-to-use-the-willpopscope-widget">How to use the WillPopScope widget?</h2>
<p>Let’s see how we can use the WillPopScope widget in Flutter.</p>

<p><strong>Example 1: Using WillPopScope to prevent the user from navigating back to the previous screen.</strong></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">PreventNavigatingBAck</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">WillPopScope</span><span class="p">(</span>
      <span class="nl">onWillPop:</span> <span class="p">()</span> <span class="kd">async</span> <span class="o">=</span><span class="p">&gt;</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nl">child:</span> <span class="n">Scaffold</span><span class="p">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
          <span class="nl">title:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"WillPopScope Demo"</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="nl">body:</span> <span class="n">Center</span><span class="p">(</span>
          <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
            <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="o">.</span><span class="na">center</span><span class="p">,</span>
            <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
              <span class="n">Text</span><span class="p">(</span>
                <span class="s">'This route shall not be popped!'</span><span class="p">,</span>
              <span class="p">),</span>
      
            <span class="p">],</span>
          <span class="p">),</span>
        <span class="p">),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the above example, we have used the WillPopScope widget to prevent the user from navigating back to the previous screen. We have set the <code class="language-plaintext highlighter-rouge">onWillPop</code> argument to a callback function that returns a Future value. The callback function returns a Future value of false. So, the enclosing route is not popped.</p>

<p><strong>Example 2: Using WillPopScope to check a condition before navigating back to the previous screen.</strong></p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">class</span> <span class="nc">CheckConditionBeforeNavigatingBack</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">_CheckConditionBeforeNavigatingBackState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span>
      <span class="n">_CheckConditionBeforeNavigatingBackState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">_CheckConditionBeforeNavigatingBackState</span>
    <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">CheckConditionBeforeNavigatingBack</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="kt">bool</span> <span class="n">_canPop</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">WillPopScope</span><span class="p">(</span>
      <span class="nl">onWillPop:</span> <span class="p">()</span> <span class="kd">async</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_canPop</span><span class="p">,</span>
      <span class="nl">child:</span> <span class="n">Scaffold</span><span class="p">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
          <span class="nl">title:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"WillPopScope Demo"</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="nl">body:</span> <span class="n">Center</span><span class="p">(</span>
          <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
            <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="o">.</span><span class="na">center</span><span class="p">,</span>
            <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
              <span class="n">Text</span><span class="p">(</span>
                <span class="s">'This route can be popped only if the condition is met.'</span><span class="p">,</span>
              <span class="p">),</span>
              <span class="n">SizedBox</span><span class="p">(</span>
                <span class="nl">height:</span> <span class="mi">20</span><span class="p">,</span>
              <span class="p">),</span>
              <span class="n">ElevatedButton</span><span class="p">(</span>
                <span class="nl">onPressed:</span> <span class="p">()</span> <span class="p">{</span>
                  <span class="n">setState</span><span class="p">(()</span> <span class="p">{</span>
                    <span class="n">_canPop</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                  <span class="p">});</span>
                <span class="p">},</span>
                <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"Set condition to true"</span><span class="p">),</span>
              <span class="p">),</span>
            <span class="p">],</span>
          <span class="p">),</span>
        <span class="p">),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the above example, we have used the WillPopScope widget to check a condition before navigating back to the previous screen. We have set the <code class="language-plaintext highlighter-rouge">onWillPop</code> argument to a callback function that returns a Future value. The callback function returns a Future value of <code class="language-plaintext highlighter-rouge">_canPop</code>. So, the enclosing route is popped only if the <code class="language-plaintext highlighter-rouge">_canPop</code> variable is true. Otherwise, the enclosing route is not popped. We have set the <code class="language-plaintext highlighter-rouge">_canPop</code> variable to true when the user clicks on the ElevatedButton. So, the enclosing route is popped only after the user clicks on the ElevatedButton.</p>

<h2 id="example-3-using-willpopscope-to-perform-an-action-before-navigating-back-to-the-previous-screen">Example 3: Using WillPopScope to perform an action before navigating back to the previous screen.</h2>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">PerformActionBeforeNavigatingBack</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">_PerformActionBeforeNavigatingBackState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span>
      <span class="n">_PerformActionBeforeNavigatingBackState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">_PerformActionBeforeNavigatingBackState</span>
    <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">PerformActionBeforeNavigatingBack</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="kt">bool</span> <span class="n">_canPop</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">WillPopScope</span><span class="p">(</span>
      <span class="nl">onWillPop:</span> <span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">_canPop</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="n">showDialog</span><span class="p">(</span>
            <span class="nl">context:</span> <span class="n">context</span><span class="p">,</span>
            <span class="nl">builder:</span> <span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">AlertDialog</span><span class="p">(</span>
              <span class="nl">title:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"Alert"</span><span class="p">),</span>
              <span class="nl">content:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"Are you sure you want to exit?"</span><span class="p">),</span>
              <span class="nl">actions:</span> <span class="p">[</span>
                <span class="n">TextButton</span><span class="p">(</span>
                  <span class="nl">onPressed:</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="n">Navigator</span><span class="o">.</span><span class="na">of</span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="o">.</span><span class="na">pop</span><span class="p">();</span>
                  <span class="p">},</span>
                  <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"No"</span><span class="p">),</span>
                <span class="p">),</span>
                <span class="n">TextButton</span><span class="p">(</span>
                  <span class="nl">onPressed:</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="n">setState</span><span class="p">(()</span> <span class="p">{</span>
                      <span class="n">_canPop</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">});</span>
                    <span class="n">Navigator</span><span class="o">.</span><span class="na">of</span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="o">.</span><span class="na">pop</span><span class="p">();</span>
                  <span class="p">},</span>
                  <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"Yes"</span><span class="p">),</span>
                <span class="p">),</span>
              <span class="p">],</span>
            <span class="p">),</span>
          <span class="p">);</span>
          <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nl">child:</span> <span class="n">Scaffold</span><span class="p">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
          <span class="nl">title:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"WillPopScope Demo"</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="nl">body:</span> <span class="n">Center</span><span class="p">(</span>
          <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
            <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="o">.</span><span class="na">center</span><span class="p">,</span>
            <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
              <span class="n">Text</span><span class="p">(</span>
                <span class="s">'This route can be popped only if the condition is met.'</span><span class="p">,</span>
              <span class="p">),</span>
              <span class="n">SizedBox</span><span class="p">(</span>
                <span class="nl">height:</span> <span class="mi">20</span><span class="p">,</span>
              <span class="p">),</span>
              <span class="n">ElevatedButton</span><span class="p">(</span>
                <span class="nl">onPressed:</span> <span class="p">()</span> <span class="p">{</span>
                  <span class="n">setState</span><span class="p">(()</span> <span class="p">{</span>
                    <span class="n">_canPop</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                  <span class="p">});</span>
                <span class="p">},</span>
                <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s">"Set condition to true"</span><span class="p">),</span>
              <span class="p">),</span>
            <span class="p">],</span>
          <span class="p">),</span>
        <span class="p">),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the above example, we have used the WillPopScope widget to perform an action before navigating back to the previous screen. We have set the <code class="language-plaintext highlighter-rouge">onWillPop</code> argument to a callback function that returns a Future value. The callback function returns a Future value of <code class="language-plaintext highlighter-rouge">_canPop</code>. So, the enclosing route is popped only if the <code class="language-plaintext highlighter-rouge">_canPop</code> variable is true. Otherwise, a dialog box is shown to the user. The user can either click on the Yes button to set the <code class="language-plaintext highlighter-rouge">_canPop</code> variable to true or click on the No button to dismiss the dialog box. So, the enclosing route is popped only after the user clicks on the Yes button.</p>

<h2 id="conclusion">Conclusion</h2>
<p>In this tutorial, we have learned about the WillPopScope widget in Flutter. We have seen how to use the WillPopScope widget to prevent the user from navigating back to the previous screen, check a condition before navigating back to the previous screen, and perform an action before navigating back to the previous screen.</p>

<h2 id="references">References</h2>

<ol>
  <li><a href="https://api.flutter.dev/flutter/widgets/WillPopScope-class.html">WillPopScope</a></li>
</ol>


      </div>
        </article>
        <div class="row">
          <!--share buttons-->
          <div class="col-12 mb-4">
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a href="https://www.facebook.com/sharer/sharer.php?u=https://flutterrettulf.com/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html" class="btn  btn-outline-secondary" target="_blank"><i class="bi bi-facebook"></i></a>
                <a href="https://twitter.com/intent/tweet?url=https://flutterrettulf.com/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html&text=How to use WillPopScope widget in Flutter with examples." class="btn  btn-outline-secondary" target="_blank"><i class="bi bi-twitter"></i></a>
                <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://flutterrettulf.com/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html&title=How to use WillPopScope widget in Flutter with examples." class="btn  btn-outline-secondary" target="_blank"><i class="bi bi-linkedin"></i></a>
                <a href="https://www.reddit.com/submit?url=https://flutterrettulf.com/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html&title=How to use WillPopScope widget in Flutter with examples." class="btn  btn-outline-secondary" target="_blank"><i class="bi bi-reddit"></i></a>
              </div>
            </div>
        </div>
        </div>  
        <div class="row">
            <div class="col-sm-12 col-md-6 mb-2">
                
                <a href="/navigation/2022/09/03/press-back-button-again-to-exit-app-flutter-willpopscope-widget.html" class="btn btn-outline-primary btn-sm w-100 "> <i class="bi bi-arrow-left"></i> How to use the WillPopScope widget in Flutter to show Press Back Button Again to Exit App? </a>
              
            </div>    
            <div class="col-sm-12 col-md-6 text-end v-100">
              
                <a href="/navigation/2022/09/03/how-to-disable-backbutton-in-flutter-using-willpopscope.html" class="btn  btn-outline-primary btn-sm w-100">How to disable the backbutton in Flutter using WillPopScope. <i class="bi bi-arrow-right"></i></a>
              
            </div>
        </div>
    </div>
      <div class="col-md-12 col-lg-2">
        <aside>

      <!-- 
    <div class="mb-3 mt-4" style="top: 4.5rem;">     
      <a target="_blank" href='https://play.google.com/store/apps/details?id=com.tonocast.www&utm_source=flutterrettulf&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1' style="text-decoration:none" rel="Sponsored">
      <div class="card mb-3 shadow-card">
        <div class="card-body">

          <div class="thumbnail">
            <img class="rounded w-100 mb-2" src="https://i.ytimg.com/vi/s1e7Q-5W7t8/mqdefault.jpg" alt="..." class="img-fluid">
          </div>
          <h4 class="card-title">Tonocast</h4>
          <p class="card-text text-muted mb-0" style="font-size:15px">The best app to listen to your favourite podcasts.</p>
         <img alt='Get it on Google Play' class="w-100" src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png'/>
                <div class="w-100 text-muted d-flex justify-content-end" style="font-size:10px">Sponsored</div>

        </div>
    </div>
  </a>   




-->   



    </aside>

      </div>
</div>
</main>
  <footer class="border-top">

<div class="container">
  <div class="row row-cols-5 pb-2 pt-5 my-2 ">
    <div class="col-12 col-md-12 col-lg-3 mb-5 mb-md-5 mb-lg-0">
      <a href="/" class="d-flex align-items-center mb-3 link-dark text-decoration-none">
        <img src="/assets/brand/logo_2.svg" width="70">
      </a>
      <p class="text-muted">flutterrettulf@gmail.com </p>
      <p class="text-muted">© 2022 </p>
    </div>

    <div class="col-12 col-md-3 mb-5 mb-md-5 mb-lg-0">
      <h5>Top Tags</h5>
      <ul class="nav flex-column">
        
        <li class="nav-item mb-2"><a href="/tag/willpopscope" class="nav-link p-0 text-muted">WillPopScope</a></li>
        
        <li class="nav-item mb-2"><a href="/tag/navigation" class="nav-link p-0 text-muted">Navigation</a></li>
        
        <li class="nav-item mb-2"><a href="/tag/double-back-to-exit-app" class="nav-link p-0 text-muted">Double Back To Exit App</a></li>
        
        <li class="nav-item mb-2"><a href="/tag/disable-back-button" class="nav-link p-0 text-muted">Disable Back Button</a></li>
        
        <li class="nav-item mb-2"><a href="/tag/flutter" class="nav-link p-0 text-muted">Flutter</a></li>
        
        <li class="nav-item mb-2"><a href="/tag/assets" class="nav-link p-0 text-muted">Assets</a></li>
        
        <li class="nav-item mb-2"><a href="/tag/static-assets" class="nav-link p-0 text-muted">Static Assets</a></li>
        
        <li class="nav-item mb-2"><a href="/tag/image-assets" class="nav-link p-0 text-muted">Image Assets</a></li>
        
        <li class="nav-item mb-2"><a href="/tag" class="nav-link p-0 text-muted">All Tags</a></li>

      </ul>
    </div>

    <div class="col-12 col-md-3 mb-5 mb-md-5 mb-lg-0">

      <h5>Top Categories</h5>
      <ul class="nav flex-column">
        
        <li class="nav-item mb-2"><a href="/category/navigation" class="nav-link p-0 text-muted">Navigation</a></li>
        
        <li class="nav-item mb-2"><a href="/category/static-assets" class="nav-link p-0 text-muted">Static Assets</a></li>
        
        <li class="nav-item mb-2"><a href="/category/flutter-buttons" class="nav-link p-0 text-muted">Flutter Buttons</a></li>
        
        <li class="nav-item mb-2"><a href="/category" class="nav-link p-0 text-muted">All Categories</a></li>

      </ul>
    </div>

    <div class="col-12 col-md-3 mb-5 mb-md-5 mb-lg-0">

      <h5>Links</h5>
      <ul class="nav flex-column">
        <li class="nav-item mb-2"><a href="https://github.com/flutterrettulf" target="_blank" class="nav-link p-0 text-muted" rel="nofollow"> <span class="bi bi-github me-2"></span>Github</a></li>
        <!-- <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted hover"><span class="bi bi-facebook me-2"></span>Facebook</a></li>-->
       <li class="nav-item mb-2"><a href="https://www.instagram.com/flutterrettulf/" class="nav-link p-0 text-muted" rel="nofollow"><span class="bi bi-instagram me-2"></span>Instagram</a></li> 
        <!-- <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted"><span class="bi bi-twitter me-2"></span>Twitter</a></li>
        <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted"><span class="bi bi-mastodon me-2"></span>Mastodon</a></li>
        <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted"><img src="/assets/img/dev.png " class="me-2" width="17">Dev.to</a></li>-->
        <li class="nav-item mb-2"><a href="https://medium.com/@flutterrettulf" class="nav-link p-0 text-muted" rel="nofollow"><span class="bi bi-medium me-2"></span>Medium</a></li>  
        <li class="nav-item mb-2"><a href="/feed.xml" class="nav-link p-0 text-muted"><span class="bi bi-rss me-2"></span>RSS Feed</a></li> 
        <li class="nav-item mb-2"><a href="/sitemap.xml" class="nav-link p-0 text-muted"><span class="bi bi-diagram-3 me-2"></span>Sitemap</a></li> 
      
      </ul>
    </div>
  </div>
</div>
<script type="text/javascript">
            document.querySelectorAll("table").forEach(table => {
                table.classList.add("table")
                table.classList.add("table-striped")
                table.classList.add("table-bordered")
                table.classList.add("table-sm")
            })
        </script>
</footer> 


<!-- <div class="p-4">
  <h4 class="fst-italic">Elsewhere</h4>
  <ol class="list-unstyled">
    <li><a href="#">GitHub</a></li>
    <li><a href="#">Twitter</a></li>
    <li><a href="#">Facebook</a></li>
  </ol>
</div> -->
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasExampleLabel">Navigation</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body p-0">
      <div class=" list-group list-group-flush border-bottom scrollarea "> 
        
        
        
        
        
        
        <a href="/navigation/2022/09/03/how-to-disable-backbutton-in-flutter-using-willpopscope.html" class="list-group-item list-group-item-light  list-group-item-action  py-3 lh-tight " aria-current="true">
          <div class="d-flex w-100 align-items-center justify-content-between">
            <div class="mb-1"> How to disable the backbutton in Flutter using WillPopScope.</div>
          </div>
        </a>
        
        
        
        <a href="/navigation/2022/09/03/how-to-use-willpopscope-widget-in-flutter-with-examples.html" class="list-group-item list-group-item-light  list-group-item-action  py-3 lh-tight  active " aria-current="true">
          <div class="d-flex w-100 align-items-center justify-content-between">
            <div class="mb-1"> How to use WillPopScope widget in Flutter with examples.</div>
          </div>
        </a>
        
        
        
        <a href="/navigation/2022/09/03/press-back-button-again-to-exit-app-flutter-willpopscope-widget.html" class="list-group-item list-group-item-light  list-group-item-action  py-3 lh-tight " aria-current="true">
          <div class="d-flex w-100 align-items-center justify-content-between">
            <div class="mb-1"> How to use the WillPopScope widget in Flutter to show Press Back Button Again to Exit App?</div>
          </div>
        </a>
        
           
      </div>
    </div>
    
  </div>
  </body>
</html>